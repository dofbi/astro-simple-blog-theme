---
import dayjs from 'dayjs'
import Config from "../config.cjs";
import Layout from './index.astro';

const {content} = Astro.props;
const {title, date, categories, tags } = content;

---

<Layout title={title} lang="en">
  <div class="container">
    <div class="row justify-content-center text-center my-5">
      <div class="col-lg-10">
        { categories && categories.map((categorie) => (
          <a href={`${Config.siteBaseUrl}categorie/${categorie}/`} class="d-inline-block link-cta mb-4 text-uppercase">{ categorie }</a>
        ))}
        <h1 class="mb-4 text-center">{ title }</h1>
        <p class="small mb-5 text-center"><span class="text-uppercase">{dayjs(date).format(Config.dateFormat)}</span></p>
      </div>
    </div>
  </div>
  <div class="bg-skew bg-skew-light">
    <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <article class="pb-2">
              <slot />
              <p class="mt-5 text-center">
                { tags && <span class="text-secondary">Tagged: </span> }
                { tags && tags.map((tag) => (
                  <a href={`${Config.siteBaseUrl}tag/${tag}/`} class="link-tag text-dark">#{ tag }</a>
                ))}
              </p>
            </article>
            <div class="row pt-5 pb-5">
              <div class="col-6 text-left">
                <!-- {{ with .PrevInSection }}
                  <a class="text-reset" href="{{ .Permalink }}">&larr; {{ .Title }}</a>
                {{ end }}
                </div>
                <div class="col-6 text-right">
                {{ with .NextInSection }}
                  <a class="text-reset" href="{{ .Permalink }}">{{ .Title }} &rarr;</a>
                {{ end }} -->
                </div>
              </div>                                                
            </div>
        </div>
    </div>
  </div>
</Layout>
